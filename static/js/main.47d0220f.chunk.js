(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,a,t){e.exports=t(47)},29:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),l=t.n(c),o=(t(29),t(4)),u=t(2),m=t(19),i=function(e){var a=e.power,t=e.name,n=e.type;return r.a.createElement("div",{className:"card text-center bg-success gameCard"},r.a.createElement("div",{className:"card-header"},n),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t)),r.a.createElement("div",{className:"card-footer text-danger"},r.a.createElement("span",{className:"badge badge-danger"},a)))},s=function(e){var a=e.onClick;return r.a.createElement("div",{className:"card text-center bg-secondary gameCard",onClick:a})},d=t(21),f=function(e){var a=e.children,t=Object(d.a)(e,["children"]);return r.a.createElement("button",Object.assign({type:"button",className:"btn btn-success dashButton"},t),a)},b=t(16),p=t(17),E=t(20),O=t(18),h=t(22),v=t(3),y={PEOPLE:"people",STARSHIPS:"starships"},j=function(e){var a=e.numberOfPlayers,t=e.numberOfAI;return{numberOfPlayers:a,numberOfAI:t,error:!1,turnMode:g(),data:[].concat(Object(v.a)(Array(a).fill({card:null,score:0})),Object(v.a)(Array(t).fill({ai:!0,card:null,score:0})))}},P=function(e,a){return a===y.PEOPLE?{power:e.mass,name:e.name,type:y.PEOPLE,additionalInfo:e.birth_year}:a===y.STARSHIPS?{power:e.crew,name:e.name,type:y.STARSHIPS,additionalInfo:e.model}:{}};function g(){var e=Object.keys(y)[I(0,1)];return y[e]}function I(e,a){return e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e+1))+e}var w=function(e){function a(){return Object(b.a)(this,a),Object(E.a)(this,Object(O.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.props.action()},I(1e3,6e3))}},{key:"render",value:function(){return this.props.children||null}}]),a}(r.a.Component),A=function(e){var a=e.numberOfAI,t=e.numberOfPlayers,n=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"playerNumberDropdown"}," Select number of players "),r.a.createElement("select",{id:"playerNumberDropdown",name:"numberOfPlayers",value:t,onChange:n},r.a.createElement("option",null,"0"),r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5"),r.a.createElement("option",null,"6")),r.a.createElement("label",{htmlFor:"aiNumberDropdown"}," Select number of bots "),r.a.createElement("select",{id:"aiNumberDropdown",name:"numberOfAI",value:a,onChange:n},r.a.createElement("option",null,"0"),r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5"),r.a.createElement("option",null,"6")))},M=function(e){var a=e.score;return r.a.createElement("h3",null,a)},N=t(5),S=t.n(N),C="https://swapi.co/api/",k=function(){var e=Math.floor(87*Math.random())+1;return S.a.get("".concat(C,"people/").concat(e,"/"))},x=function(){var e=[5,15,9,10,11,12,13,21,22,23],a=Math.floor(Math.random()*e.length);return S.a.get("".concat(C,"starships/").concat(e[a],"/"))};var T=function(){var e=Object(n.useState)(j({numberOfAI:0,numberOfPlayers:0})),a=Object(m.a)(e,2),t=a[0],c=a[1],l=t.error,d=t.numberOfPlayers,b=t.data,p=t.turnMode,E=t.numberOfAI;if(l)return r.a.createElement("h1",null,"We should handle errors better...");var O=function(e){var a;(a=t.turnMode,a===y.PEOPLE?k():a===y.STARSHIPS?x():void 0).then(function(a){var n=a.data;c(Object(u.a)({},t,{data:t.data.map(function(a,t){return Object(u.a)({},a,{card:t===e?n:a.card})})}))}).catch(function(e){return c(Object(u.a)({},t,{error:!0}))})};return r.a.createElement("div",null,r.a.createElement("div",{className:"cardContainer"},b.map(function(e,a){var t=e.card,n=e.ai,c=e.score;return t?r.a.createElement("div",null,r.a.createElement(i,P(t,p)),r.a.createElement(M,{score:c})):n?r.a.createElement("div",null,r.a.createElement(w,{action:function(){return O(a)}},r.a.createElement(s,null),r.a.createElement(M,{score:c}))):r.a.createElement("div",null,r.a.createElement(s,{onClick:function(){return O(a)}}),r.a.createElement(M,{score:c}))})),r.a.createElement("div",{className:"dashboardContainer"},r.a.createElement(f,{onClick:function(){if(function(e,a,t){for(var n=!0,r=a+t,c=0;c<r;c++)e[c]&&e[c].card||(n=!1);return n}(b,d,E)){var e=function(e,a){var t=e.map(function(e){return parseInt(P(e.card,a).power)||0}),n=Math.max.apply(Math,Object(v.a)(t));return function(e){for(var a={},t=0;t<e.length;t++){var n=e[t];a[n]=a[n]?a[n]+1:1}return a}(t)[n]>1?-1:t.indexOf(Math.max.apply(Math,Object(v.a)(t)))}(b,p);c(Object(u.a)({},t,{data:b.map(function(a,t){return Object(u.a)({},a,{score:t===e?a.score+1:a.score})})}))}}},"Finish turn"),r.a.createElement(f,{onClick:function(){var e;c((e=t,Object(u.a)({},e,{data:e.data.map(function(e){return Object(u.a)({},e,{card:null})})})))}},"Next Turn"),r.a.createElement(A,{onChange:function(e){return c(Object(u.a)({},j(Object(o.a)({numberOfPlayers:t.numberOfPlayers,numberOfAI:t.numberOfAI},e.target.name,parseInt(e.target.value)))))},numberOfAI:t.numberOfAI,numberOfPlayers:t.numberOfPlayers})))};l.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.47d0220f.chunk.js.map